import{_ as t,c as i,a0 as a,o as e}from"./chunks/framework.C0t5_LYa.js";const c=JSON.parse('{"title":"Config","description":"","frontmatter":{},"headers":[],"relativePath":"reference/config.md","filePath":"reference/config.md"}'),n={name:"reference/config.md"};function l(d,s,r,h,p,o){return e(),i("div",null,s[0]||(s[0]=[a(`<h1 id="config" tabindex="-1">Config <a class="header-anchor" href="#config" aria-label="Permalink to &quot;Config&quot;">​</a></h1><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">log_level</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">info</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # application log, default is info</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text to print after the load complate: {{ .APP_NAME }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">loads</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># check loads section</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">preprocess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># check preprocess section</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># check server section</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># check services section</span></span></code></pre></div><p>Turna now has 4 main sections, <code>loads</code>, <code>preprocess</code>, <code>server</code> and <code>services</code>. Check their sections for more information.</p><ul><li><a href="./loads.html">loads</a></li><li><a href="./preprocess/preprocess.html">preprocess</a></li><li><a href="./server/server.html">server</a></li><li><a href="./services.html">services</a></li></ul><p>Inside of the main parameters, there is <code>--config-consul</code>, <code>--config-vault</code> additional parameters to get configuration from consul and vault (consul first).<br> Also this can editable with environment variables.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">APP_NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # default is turna</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PREFIX_VAULT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">finops</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # default is empty</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PREFIX_CONSUL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">finops</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # default is empty</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># First initialize configuration, these variables are default</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CONFIG_SET_CONSUL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CONFIG_SET_VAULT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CONFIG_SET_FILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">true</span></span></code></pre></div><p>To set Consul&#39;s and Vault&#39;s configuration use their environment variables.</p><p>For basic configuration:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># CONSUL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CONSUL_HTTP_ADDR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;localhost:8500&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># VAULT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VAULT_ADDR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://localhost:8200&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VAULT_ROLE_ID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ROLE_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># VAULT_CONSUL_ADDR_DISABLE=false</span></span></code></pre></div><h2 id="environment-variables" tabindex="-1">Environment variables <a class="header-anchor" href="#environment-variables" aria-label="Permalink to &quot;Environment variables&quot;">​</a></h2><h3 id="consul" tabindex="-1">Consul <a class="header-anchor" href="#consul" aria-label="Permalink to &quot;Consul&quot;">​</a></h3><p>Using <code>github.com/hashicorp/consul/api</code></p><table tabindex="0"><thead><tr><th>Environment variable</th><th>Description</th></tr></thead><tbody><tr><td>CONSUL_HTTP_ADDR</td><td>Consul address</td></tr><tr><td>CONSUL_HTTP_TOKEN_FILE</td><td>Consul token file</td></tr><tr><td>CONSUL_HTTP_TOKEN</td><td>Consul token</td></tr><tr><td>CONSUL_HTTP_AUTH</td><td>Consul auth</td></tr><tr><td>CONSUL_HTTP_SSL</td><td>Consul ssl</td></tr><tr><td>CONSUL_TLS_SERVER_NAME</td><td>Consul tls server name</td></tr><tr><td>CONSUL_CACERT</td><td>Consul cacert</td></tr><tr><td>CONSUL_CAPATH</td><td>Consul capath</td></tr><tr><td>CONSUL_CLIENT_CERT</td><td>Consul client cert</td></tr><tr><td>CONSUL_CLIENT_KEY</td><td>Consul client key</td></tr><tr><td>CONSUL_HTTP_SSL_VERIFY</td><td>Consul ssl verify</td></tr><tr><td>CONSUL_NAMESPACE</td><td>Consul namespace</td></tr><tr><td>CONSUL_PARTITION</td><td>Consul partition</td></tr></tbody></table><h3 id="vault" tabindex="-1">Vault <a class="header-anchor" href="#vault" aria-label="Permalink to &quot;Vault&quot;">​</a></h3><p>Using <code>github.com/hashicorp/vault/api</code></p><table tabindex="0"><thead><tr><th>Environment variable</th><th>Description</th></tr></thead><tbody><tr><td>VAULT_ROLE_ID</td><td>Role ID</td></tr><tr><td>VAULT_ROLE_SECRET</td><td>Role secret</td></tr><tr><td>VAULT_ADDR</td><td>Vault address</td></tr><tr><td>VAULT_TOKEN</td><td>Vault token</td></tr><tr><td>VAULT_AGENT_ADDR</td><td>Vault agent address</td></tr><tr><td>VAULT_MAX_RETRIES</td><td>Max retries</td></tr><tr><td>VAULT_CACERT</td><td>CA certificate</td></tr><tr><td>VAULT_CACERT_BYTES</td><td>CA certificate bytes</td></tr><tr><td>VAULT_CAPATH</td><td>CA path</td></tr><tr><td>VAULT_CLIENT_CERT</td><td>Client certificate</td></tr><tr><td>VAULT_CLIENT_KEY</td><td>Client key</td></tr><tr><td>VAULT_RATE_LIMIT</td><td>Rate limit</td></tr><tr><td>VAULT_CLIENT_TIMEOUT</td><td>Client timeout</td></tr><tr><td>VAULT_SKIP_VERIFY</td><td>Skip verify</td></tr><tr><td>VAULT_SRV_LOOKUP</td><td>SRV lookup</td></tr><tr><td>VAULT_TLS_SERVER_NAME</td><td>TLS server name</td></tr><tr><td>VAULT_HTTP_PROXY</td><td>HTTP proxy</td></tr><tr><td>VAULT_PROXY_ADDR</td><td>Proxy address</td></tr><tr><td>VAULT_DISABLE_REDIRECTS</td><td>Disable redirects</td></tr><tr><td>VAULT_APPROLE_BASE_PATH</td><td>/auth/approle/login/</td></tr></tbody></table><h2 id="file" tabindex="-1">File <a class="header-anchor" href="#file" aria-label="Permalink to &quot;File&quot;">​</a></h2><p>Giving a file configuration, config file can be <strong>[toml, yaml, yml, json]</strong> in the same directory with binary (<code>turna.yaml</code>) or your <code>APP_NAME</code> env value so if it is <code>test</code> than files checking <code>test.[...]</code>.<br><code>CONFIG_FILE</code> environment variable also can be used to set config file name. Codec understand the file type from the extension.</p>`,18)]))}const E=t(n,[["render",l]]);export{c as __pageData,E as default};
